# MVP CHECKLIST

## 1. Telegram auth
- [ ] Mini App открывается внутри Telegram.
- [ ] `initData` передается на backend.
- [ ] Серверная проверка подписи проходит корректно.
- [ ] Неавторизованный пользователь не попадает на приватные экраны.

## 2. Лобби и матчмейкинг
- [ ] Игрок может встать в автоочередь.
- [ ] Игрок может выйти из автоочереди.
- [ ] Два игрока из очереди матчятся в одну партию.
- [ ] Игрок видит список ожидающих по никам.
- [ ] Вызов по нику отправляется и корректно принимается/отклоняется.

## 3. Игровой процесс
- [ ] Ход можно сделать только в свою очередь.
- [ ] Нелегальные ходы отклоняются сервером.
- [ ] Легальные ходы применяются и синхронизируются у обоих игроков.
- [ ] Работают: рокировка, взятие на проходе, превращение пешки.
- [ ] Корректно определяются: мат, пат, ничья по правилам.

## 4. Realtime и стабильность
- [ ] Задержка обновления хода приемлемая в нормальной сети.
- [ ] При кратком разрыве связи клиент переподключается.
- [ ] После реконнекта клиент получает актуальный `game_state`.
- [ ] Дублирующая отправка того же хода не ломает состояние партии.

## 5. Управление исходом
- [ ] Кнопка `Сдаться` завершает игру корректно.
- [ ] `Предложить ничью` работает с подтверждением второй стороны.
- [ ] После завершения партии доступен `Реванш`.
- [ ] Реванш стартует только при согласии обоих игроков.

## 6. Статистика и история
- [ ] После партии обновляются wins/losses/draws/games_total.
- [ ] Все партии сохраняются в базе.
- [ ] По партии доступен лог ходов.
- [ ] История пользователя отображается в клиенте.

## 7. Рейтинги
- [ ] Очки начисляются по формуле 3/1/0.
- [ ] Общий рейтинг обновляется после завершения партии.
- [ ] Суточный рейтинг рассчитывается за фиксированные сутки.
- [ ] Tie-break применяется корректно при равных очках.
- [ ] Лидер суток определяется автоматически.

## 8. UI/UX мобильного Mini App
- [ ] Все экраны корректно отображаются в Telegram на мобильном устройстве.
- [ ] Интерфейс полностью на русском.
- [ ] Есть явные состояния loading/error/empty.
- [ ] Кнопки и интерактивные элементы удобны для touch.

## 9. Логи и эксплуатация
- [ ] Логи содержат события матча: старт, ходы, завершение, причина.
- [ ] Healthcheck endpoint отвечает стабильно.
- [ ] Приложение доступно по HTTPS.

## 10. Release gate (MVP ready)
- [ ] Все пункты разделов 1-9 отмечены выполненными.
- [ ] Smoke-test пройден на минимум 2 реальных Telegram-аккаунтах.
- [ ] Не осталось блокирующих багов уровня Critical/High.
